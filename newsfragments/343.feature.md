Support non-base type fields in structs

Support is currently limited in two ways:
  - Structs with complex fields can not be returned from public functions
  - Structs with complex fields can not be stored in storage
