use std::context::Context
use std::evm

contract Foo:

    pub fn __call__():
        unsafe:
            let ctx: Context = Context()
            let value: u256 = u256(bar(ctx))

            # return `value`
            evm::mstore(0, value)
            evm::return_mem(0, 32)

    fn bar(ctx: Context) -> address:
        return ctx.self_address()
