---
source: crates/hir/tests/desugar.rs
assertion_line: 28
expression: output
input_file: test_files/desugar/event_field_name_collisions.fe
---
use core::prelude::*

struct Collision {
    log: u256,
    enc: u256,
    data_len: u256,
    data_ptr: u256,
}

impl std::evm::Event for Collision {
    const TOPIC0: u256 = core::keccak(("Collision", "(", u256::SOL_TYPE, ",", u256::SOL_TYPE, ",", u256::SOL_TYPE, ",", u256::SOL_TYPE, ")"))

    fn emit<L: std::evm::Log>(self, log: mut L) {
        let mut enc = std::abi::SolEncoder::new()
        let data_len = std::abi::encoded_size<(u256, u256)>()
        enc.reserve_head(data_len)
        (self.data_len, self.data_ptr).encode(enc)
        let (data_ptr, data_len) = enc.finish()
        log.log3(data_ptr, data_len, Self::TOPIC0, self.log.as_topic(), self.enc.as_topic())
    }
}
