---
source: crates/hir/tests/ty_check.rs
assertion_line: 40
expression: res
input_file: test_files/ty_check/ops.fe
---
note: 
   ┌─ ops.fe:11:28
   │  
11 │       fn not(own self) -> Ok {
   │ ╭────────────────────────────^
12 │ │         match self {
13 │ │             Ok::No => Ok::Yes
14 │ │             Ok::Yes => Ok::No
15 │ │         }
16 │ │     }
   │ ╰─────^ Ok

note: 
   ┌─ ops.fe:12:9
   │  
12 │ ╭         match self {
13 │ │             Ok::No => Ok::Yes
14 │ │             Ok::Yes => Ok::No
15 │ │         }
   │ ╰─────────^ Ok

note: 
   ┌─ ops.fe:12:15
   │
12 │         match self {
   │               ^^^^ Ok

note: 
   ┌─ ops.fe:13:13
   │
13 │             Ok::No => Ok::Yes
   │             ^^^^^^ Ok

note: 
   ┌─ ops.fe:13:23
   │
13 │             Ok::No => Ok::Yes
   │                       ^^^^^^^ Ok

note: 
   ┌─ ops.fe:14:13
   │
14 │             Ok::Yes => Ok::No
   │             ^^^^^^^ Ok

note: 
   ┌─ ops.fe:14:24
   │
14 │             Ok::Yes => Ok::No
   │                        ^^^^^^ Ok

note: 
   ┌─ ops.fe:19:23
   │  
19 │   fn flip(ok: Ok) -> Ok {
   │ ╭───────────────────────^
20 │ │     !ok
21 │ │ }
   │ ╰─^ Ok

note: 
   ┌─ ops.fe:20:5
   │
20 │     !ok
   │     ^^^ Ok

note: 
   ┌─ ops.fe:20:6
   │
20 │     !ok
   │      ^^ Ok

note: 
   ┌─ ops.fe:24:46
   │  
24 │       fn eq(own self, _ other: own Ok) -> bool {
   │ ╭──────────────────────────────────────────────^
25 │ │         match (self, other) {
26 │ │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
27 │ │             _ => false
28 │ │          }
29 │ │     }
   │ ╰─────^ bool

note: 
   ┌─ ops.fe:25:9
   │  
25 │ ╭         match (self, other) {
26 │ │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
27 │ │             _ => false
28 │ │          }
   │ ╰──────────^ bool

note: 
   ┌─ ops.fe:25:15
   │
25 │         match (self, other) {
   │               ^^^^^^^^^^^^^ (Ok, Ok)

note: 
   ┌─ ops.fe:25:16
   │
25 │         match (self, other) {
   │                ^^^^ Ok

note: 
   ┌─ ops.fe:25:22
   │
25 │         match (self, other) {
   │                      ^^^^^ Ok

note: 
   ┌─ ops.fe:26:13
   │
26 │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
   │             ^^^^^^^^^^^^^^^^^^ (Ok, Ok)

note: 
   ┌─ ops.fe:26:13
   │
26 │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
   │             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ (Ok, Ok)

note: 
   ┌─ ops.fe:26:14
   │
26 │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
   │              ^^^^^^^ Ok

note: 
   ┌─ ops.fe:26:23
   │
26 │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
   │                       ^^^^^^^ Ok

note: 
   ┌─ ops.fe:26:34
   │
26 │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
   │                                  ^^^^^^^^^^^^^^^^ (Ok, Ok)

note: 
   ┌─ ops.fe:26:35
   │
26 │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
   │                                   ^^^^^^ Ok

note: 
   ┌─ ops.fe:26:43
   │
26 │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
   │                                           ^^^^^^ Ok

note: 
   ┌─ ops.fe:26:54
   │
26 │             (Ok::Yes, Ok::Yes) | (Ok::No, Ok::No) => true
   │                                                      ^^^^ bool

note: 
   ┌─ ops.fe:27:13
   │
27 │             _ => false
   │             ^ (Ok, Ok)

note: 
   ┌─ ops.fe:27:18
   │
27 │             _ => false
   │                  ^^^^^ bool

note: 
   ┌─ ops.fe:30:46
   │  
30 │       fn ne(own self, _ other: own Ok) -> bool {
   │ ╭──────────────────────────────────────────────^
31 │ │         !self.eq(other)
32 │ │     }
   │ ╰─────^ bool

note: 
   ┌─ ops.fe:31:9
   │
31 │         !self.eq(other)
   │         ^^^^^^^^^^^^^^^ bool

note: 
   ┌─ ops.fe:31:10
   │
31 │         !self.eq(other)
   │          ^^^^ Ok

note: 
   ┌─ ops.fe:31:10
   │
31 │         !self.eq(other)
   │          ^^^^^^^^^^^^^^ bool

note: 
   ┌─ ops.fe:31:18
   │
31 │         !self.eq(other)
   │                  ^^^^^ Ok

note: 
   ┌─ ops.fe:36:46
   │  
36 │       fn add_assign(mut self, _ other: own Ok) {
   │ ╭──────────────────────────────────────────────^
37 │ │         if other == Ok::Yes {
38 │ │             self = Ok::Yes
39 │ │         }
40 │ │     }
   │ ╰─────^ ()

note: 
   ┌─ ops.fe:37:9
   │  
37 │ ╭         if other == Ok::Yes {
38 │ │             self = Ok::Yes
39 │ │         }
   │ ╰─────────^ ()

note: 
   ┌─ ops.fe:37:12
   │
37 │         if other == Ok::Yes {
   │            ^^^^^ Ok

note: 
   ┌─ ops.fe:37:12
   │
37 │         if other == Ok::Yes {
   │            ^^^^^^^^^^^^^^^^ bool

note: 
   ┌─ ops.fe:37:21
   │
37 │         if other == Ok::Yes {
   │                     ^^^^^^^ Ok

note: 
   ┌─ ops.fe:37:29
   │  
37 │           if other == Ok::Yes {
   │ ╭─────────────────────────────^
38 │ │             self = Ok::Yes
39 │ │         }
   │ ╰─────────^ ()

note: 
   ┌─ ops.fe:38:13
   │
38 │             self = Ok::Yes
   │             ^^^^ Ok

note: 
   ┌─ ops.fe:38:13
   │
38 │             self = Ok::Yes
   │             ^^^^^^^^^^^^^^ ()

note: 
   ┌─ ops.fe:38:20
   │
38 │             self = Ok::Yes
   │                    ^^^^^^^ Ok

note: 
   ┌─ ops.fe:51:47
   │  
51 │       fn add(own self, _ p: own Point) -> Point {
   │ ╭───────────────────────────────────────────────^
52 │ │         Point {
53 │ │             x: self.x + p.x,
54 │ │             y: self.y + p.y,
55 │ │         }
56 │ │     }
   │ ╰─────^ Point

note: 
   ┌─ ops.fe:52:9
   │  
52 │ ╭         Point {
53 │ │             x: self.x + p.x,
54 │ │             y: self.y + p.y,
55 │ │         }
   │ ╰─────────^ Point

note: 
   ┌─ ops.fe:53:16
   │
53 │             x: self.x + p.x,
   │                ^^^^ Point

note: 
   ┌─ ops.fe:53:16
   │
53 │             x: self.x + p.x,
   │                ^^^^^^ i32

note: 
   ┌─ ops.fe:53:16
   │
53 │             x: self.x + p.x,
   │                ^^^^^^^^^^^^ i32

note: 
   ┌─ ops.fe:53:25
   │
53 │             x: self.x + p.x,
   │                         ^ Point

note: 
   ┌─ ops.fe:53:25
   │
53 │             x: self.x + p.x,
   │                         ^^^ i32

note: 
   ┌─ ops.fe:54:16
   │
54 │             y: self.y + p.y,
   │                ^^^^ Point

note: 
   ┌─ ops.fe:54:16
   │
54 │             y: self.y + p.y,
   │                ^^^^^^ i32

note: 
   ┌─ ops.fe:54:16
   │
54 │             y: self.y + p.y,
   │                ^^^^^^^^^^^^ i32

note: 
   ┌─ ops.fe:54:25
   │
54 │             y: self.y + p.y,
   │                         ^ Point

note: 
   ┌─ ops.fe:54:25
   │
54 │             y: self.y + p.y,
   │                         ^^^ i32

note: 
   ┌─ ops.fe:60:45
   │  
60 │       fn add(own self, _ n: own i32) -> Point {
   │ ╭─────────────────────────────────────────────^
61 │ │         Point {
62 │ │             x: self.x + n,
63 │ │             y: self.y + n,
64 │ │         }
65 │ │     }
   │ ╰─────^ Point

note: 
   ┌─ ops.fe:61:9
   │  
61 │ ╭         Point {
62 │ │             x: self.x + n,
63 │ │             y: self.y + n,
64 │ │         }
   │ ╰─────────^ Point

note: 
   ┌─ ops.fe:62:16
   │
62 │             x: self.x + n,
   │                ^^^^ Point

note: 
   ┌─ ops.fe:62:16
   │
62 │             x: self.x + n,
   │                ^^^^^^ i32

note: 
   ┌─ ops.fe:62:16
   │
62 │             x: self.x + n,
   │                ^^^^^^^^^^ i32

note: 
   ┌─ ops.fe:62:25
   │
62 │             x: self.x + n,
   │                         ^ i32

note: 
   ┌─ ops.fe:63:16
   │
63 │             y: self.y + n,
   │                ^^^^ Point

note: 
   ┌─ ops.fe:63:16
   │
63 │             y: self.y + n,
   │                ^^^^^^ i32

note: 
   ┌─ ops.fe:63:16
   │
63 │             y: self.y + n,
   │                ^^^^^^^^^^ i32

note: 
   ┌─ ops.fe:63:25
   │
63 │             y: self.y + n,
   │                         ^ i32

note: 
   ┌─ ops.fe:70:47
   │  
70 │       fn index(self, _ i: usize) -> Option<i32> {
   │ ╭───────────────────────────────────────────────^
71 │ │         match i {
72 │ │             0 => Some(self.x)
73 │ │             1 => Some(self.y)
74 │ │             _ => None
75 │ │         }
76 │ │     }
   │ ╰─────^ Option<i32>

note: 
   ┌─ ops.fe:71:9
   │  
71 │ ╭         match i {
72 │ │             0 => Some(self.x)
73 │ │             1 => Some(self.y)
74 │ │             _ => None
75 │ │         }
   │ ╰─────────^ Option<i32>

note: 
   ┌─ ops.fe:71:15
   │
71 │         match i {
   │               ^ usize

note: 
   ┌─ ops.fe:72:13
   │
72 │             0 => Some(self.x)
   │             ^ usize

note: 
   ┌─ ops.fe:72:18
   │
72 │             0 => Some(self.x)
   │                  ^^^^ fn Some<i32>

note: 
   ┌─ ops.fe:72:18
   │
72 │             0 => Some(self.x)
   │                  ^^^^^^^^^^^^ Option<i32>

note: 
   ┌─ ops.fe:72:23
   │
72 │             0 => Some(self.x)
   │                       ^^^^ Point

note: 
   ┌─ ops.fe:72:23
   │
72 │             0 => Some(self.x)
   │                       ^^^^^^ i32

note: 
   ┌─ ops.fe:73:13
   │
73 │             1 => Some(self.y)
   │             ^ usize

note: 
   ┌─ ops.fe:73:18
   │
73 │             1 => Some(self.y)
   │                  ^^^^ fn Some<i32>

note: 
   ┌─ ops.fe:73:18
   │
73 │             1 => Some(self.y)
   │                  ^^^^^^^^^^^^ Option<i32>

note: 
   ┌─ ops.fe:73:23
   │
73 │             1 => Some(self.y)
   │                       ^^^^ Point

note: 
   ┌─ ops.fe:73:23
   │
73 │             1 => Some(self.y)
   │                       ^^^^^^ i32

note: 
   ┌─ ops.fe:74:13
   │
74 │             _ => None
   │             ^ usize

note: 
   ┌─ ops.fe:74:18
   │
74 │             _ => None
   │                  ^^^^ Option<i32>

note: 
   ┌─ ops.fe:79:26
   │  
79 │   fn f(a: Point, b: Point) {
   │ ╭──────────────────────────^
80 │ │     let c = a + b
81 │ │     let c2 = Add::add(a, b)
82 │ │     // let c3 = Add::add(a, 100) TODO: fix `type annotation is needed`
83 │ │     let d = c + as_i32(100)
84 │ │     let x = d[0]
85 │ │ }
   │ ╰─^ ()

note: 
   ┌─ ops.fe:80:9
   │
80 │     let c = a + b
   │         ^ Point

note: 
   ┌─ ops.fe:80:13
   │
80 │     let c = a + b
   │             ^ Point

note: 
   ┌─ ops.fe:80:13
   │
80 │     let c = a + b
   │             ^^^^^ Point

note: 
   ┌─ ops.fe:80:17
   │
80 │     let c = a + b
   │                 ^ Point

note: 
   ┌─ ops.fe:81:9
   │
81 │     let c2 = Add::add(a, b)
   │         ^^ Point

note: 
   ┌─ ops.fe:81:14
   │
81 │     let c2 = Add::add(a, b)
   │              ^^^^^^^^ fn add<Point, Point>

note: 
   ┌─ ops.fe:81:14
   │
81 │     let c2 = Add::add(a, b)
   │              ^^^^^^^^^^^^^^ Point

note: 
   ┌─ ops.fe:81:23
   │
81 │     let c2 = Add::add(a, b)
   │                       ^ Point

note: 
   ┌─ ops.fe:81:26
   │
81 │     let c2 = Add::add(a, b)
   │                          ^ Point

note: 
   ┌─ ops.fe:83:9
   │
83 │     let d = c + as_i32(100)
   │         ^ Point

note: 
   ┌─ ops.fe:83:13
   │
83 │     let d = c + as_i32(100)
   │             ^ Point

note: 
   ┌─ ops.fe:83:13
   │
83 │     let d = c + as_i32(100)
   │             ^^^^^^^^^^^^^^^ Point

note: 
   ┌─ ops.fe:83:17
   │
83 │     let d = c + as_i32(100)
   │                 ^^^^^^ fn as_i32

note: 
   ┌─ ops.fe:83:17
   │
83 │     let d = c + as_i32(100)
   │                 ^^^^^^^^^^^ i32

note: 
   ┌─ ops.fe:83:24
   │
83 │     let d = c + as_i32(100)
   │                        ^^^ i32

note: 
   ┌─ ops.fe:84:9
   │
84 │     let x = d[0]
   │         ^ Option<i32>

note: 
   ┌─ ops.fe:84:13
   │
84 │     let x = d[0]
   │             ^ Point

note: 
   ┌─ ops.fe:84:13
   │
84 │     let x = d[0]
   │             ^^^^ Option<i32>

note: 
   ┌─ ops.fe:84:15
   │
84 │     let x = d[0]
   │               ^ usize

note: 
   ┌─ ops.fe:87:28
   │
87 │ fn as_i32(_ x: i32) -> i32 { x }
   │                            ^^^^^ i32

note: 
   ┌─ ops.fe:87:30
   │
87 │ fn as_i32(_ x: i32) -> i32 { x }
   │                              ^ i32
