---
source: crates/hir/tests/ty_check.rs
assertion_line: 40
expression: res
input_file: test_files/ty_check/effect_ambiguous_generic.fe
---
note: 
  ┌─ effect_ambiguous_generic.fe:8:1
  │  
8 │ ╭ {
9 │ │ }
  │ ╰─^ ()

note: 
   ┌─ effect_ambiguous_generic.fe:11:28
   │  
11 │   pub fn ambiguous_effects() {
   │ ╭────────────────────────────^
12 │ │     let st1 = Storage<u8> { value: 1 }
13 │ │     let st2 = Storage<u8> { value: 2 }
14 │ │ 
   · │
21 │ │     }
22 │ │ }
   │ ╰─^ ()

note: 
   ┌─ effect_ambiguous_generic.fe:12:9
   │
12 │     let st1 = Storage<u8> { value: 1 }
   │         ^^^ Storage<u8>

note: 
   ┌─ effect_ambiguous_generic.fe:12:15
   │
12 │     let st1 = Storage<u8> { value: 1 }
   │               ^^^^^^^^^^^^^^^^^^^^^^^^ Storage<u8>

note: 
   ┌─ effect_ambiguous_generic.fe:12:36
   │
12 │     let st1 = Storage<u8> { value: 1 }
   │                                    ^ u8

note: 
   ┌─ effect_ambiguous_generic.fe:13:9
   │
13 │     let st2 = Storage<u8> { value: 2 }
   │         ^^^ Storage<u8>

note: 
   ┌─ effect_ambiguous_generic.fe:13:15
   │
13 │     let st2 = Storage<u8> { value: 2 }
   │               ^^^^^^^^^^^^^^^^^^^^^^^^ Storage<u8>

note: 
   ┌─ effect_ambiguous_generic.fe:13:36
   │
13 │     let st2 = Storage<u8> { value: 2 }
   │                                    ^ u8

note: 
   ┌─ effect_ambiguous_generic.fe:17:5
   │  
17 │ ╭     with (Storage = st1) {
18 │ │         with (Storage = st2) {
19 │ │             process()  // should use st2
20 │ │         }
21 │ │     }
   │ ╰─────^ ()

note: 
   ┌─ effect_ambiguous_generic.fe:17:21
   │
17 │     with (Storage = st1) {
   │                     ^^^ Storage<u8>

note: 
   ┌─ effect_ambiguous_generic.fe:17:26
   │  
17 │       with (Storage = st1) {
   │ ╭──────────────────────────^
18 │ │         with (Storage = st2) {
19 │ │             process()  // should use st2
20 │ │         }
21 │ │     }
   │ ╰─────^ ()

note: 
   ┌─ effect_ambiguous_generic.fe:18:9
   │  
18 │ ╭         with (Storage = st2) {
19 │ │             process()  // should use st2
20 │ │         }
   │ ╰─────────^ ()

note: 
   ┌─ effect_ambiguous_generic.fe:18:25
   │
18 │         with (Storage = st2) {
   │                         ^^^ Storage<u8>

note: 
   ┌─ effect_ambiguous_generic.fe:18:30
   │  
18 │           with (Storage = st2) {
   │ ╭──────────────────────────────^
19 │ │             process()  // should use st2
20 │ │         }
   │ ╰─────────^ ()

note: 
   ┌─ effect_ambiguous_generic.fe:19:13
   │
19 │             process()  // should use st2
   │             ^^^^^^^ fn process

note: 
   ┌─ effect_ambiguous_generic.fe:19:13
   │
19 │             process()  // should use st2
   │             ^^^^^^^^^ ()
