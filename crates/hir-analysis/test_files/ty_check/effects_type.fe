pub struct Storage {
    value: u8,
}

pub struct Ctx {}

pub fn transfer(amount: u8)
  uses (ctx: Ctx, mut st: Storage)
{
    let _ = ctx
    st.value = amount
}

pub fn caller_ok() {
    let ctx = Ctx {}
    let mut st = Storage { value: 0 }
    with (Ctx = ctx, Storage = st) {
        transfer(amount: 5)
    }
}
