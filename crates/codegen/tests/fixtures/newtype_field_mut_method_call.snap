---
source: crates/codegen/tests/yul.rs
expression: output
input_file: tests/fixtures/newtype_field_mut_method_call.fe
---
function $counter_bump($self) {
  let v0 := mload($self)
  let v1 := $u256_addassign_add_assign(v0, 1)
  mstore($self, v1)
  leave
}
function $wrapcounter_bump($self) {
  let v0 := $self
  let v1 := mload(v0)
  let v2 := $u256_addassign_add_assign(v1, 1)
  mstore(v0, v2)
  leave
}
function $newtype_field_mut_method_call($x) -> ret {
  let v0 := mload(0x40)
  if iszero(v0) {
    v0 := 0x80
  }
  mstore(0x40, add(v0, 64))
  mstore(v0, $x)
  mstore(add(v0, 32), 0)
  let v1 := mload(0x40)
  if iszero(v1) {
    v1 := 0x80
  }
  mstore(0x40, add(v1, 96))
  mstore(v1, 0)
  let v2 := v0
  mstore(add(v1, 32), mload(v2))
  mstore(add(v1, 64), mload(add(v2, 32)))
  let v3 := v1
  $wrapcounter_bump_mem(add(v3, 32))
  let v4 := mload(add(v3, 32))
  ret := v4
  leave
}
function $u256_addassign_add_assign($self, $other) -> ret {
  let v0 := $u256_add_add($self, $other)
  ret := v0
  leave
}
function $wrapcounter_bump_mem($self) {
  let v0 := $self
  let v1 := mload(v0)
  let v2 := $u256_addassign_add_assign(v1, 1)
  mstore(v0, v2)
  leave
}
function $u256_add_add($self, $other) -> ret {
  let v0 := add($self, $other)
  let v1 := lt(v0, $self)
  let v2 := v1
  if v2 {
    revert(0, 0)
  }
  ret := v0
  leave
}
