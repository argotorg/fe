---
source: crates/codegen/tests/yul.rs
expression: output
input_file: tests/fixtures/match_struct.fe
---
function $match_struct_fields($p) -> ret {
  let v0 := 0
  let v1 := and(mload(add($p, 1)), 0xff)
  switch v1
    case 0 {
      let v2 := and(mload($p), 0xff)
      switch v2
        case 0 {
          v0 := 0
        }
        default {
          let v3 := and(mload($p), 0xff)
          let v4 := v3
          v0 := v4
        }
    }
    default {
      let v5 := and(mload($p), 0xff)
      switch v5
        case 0 {
          let v6 := and(mload(add($p, 1)), 0xff)
          let v7 := v6
          v0 := v7
        }
        default {
          let v8 := and(mload(add($p, 1)), 0xff)
          let v9 := v8
          let v10 := and(mload($p), 0xff)
          let v11 := v10
          let v12 := $u8_add_add(v11, v9)
          v0 := v12
        }
    }
  ret := v0
  leave
}
function $match_struct_wildcard($p) -> ret {
  let v0 := 0
  let v1 := and(mload($p), 0xff)
  switch v1
    case 0 {
      v0 := 1
    }
    default {
      let v2 := and(mload(add($p, 1)), 0xff)
      switch v2
        case 0 {
          v0 := 2
        }
        default {
          v0 := 3
        }
    }
  ret := v0
  leave
}
function $u8_add_add($self, $other) -> ret {
  let v0 := and(add(and($self, 0xff), and($other, 0xff)), 0xff)
  let v1 := lt(and(v0, 0xff), and($self, 0xff))
  let v2 := v1
  if v2 {
    revert(0, 0)
  }
  ret := v0
  leave
}
