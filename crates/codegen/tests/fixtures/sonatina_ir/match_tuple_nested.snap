---
source: crates/codegen/tests/sonatina_ir.rs
expression: output
input_file: crates/codegen/tests/fixtures/match_tuple_nested.fe
---
target = evm-ethereum-osaka

type @__fe_tuple_0 = {i256, i256};
type @__fe_tuple_1 = {@__fe_tuple_0, i256};
type @__fe_tuple_2 = {@__fe_tuple_1, i256};

func public %match_nested_tuple(v0.i256) -> i256 {
    block0:
        jump block7;

    block1:
        jump block2;

    block2:
        v3.i256 = phi (7.i256 block1) (6.i256 block3) (5.i256 block4) (2.i256 block5) (1.i256 block6);
        return v3;

    block3:
        jump block2;

    block4:
        jump block2;

    block5:
        jump block2;

    block6:
        jump block2;

    block7:
        v9.*@__fe_tuple_1 = int_to_ptr v0 *@__fe_tuple_1;
        v10.*i256 = gep v9 0.i256 0.i256 0.i256;
        v11.i256 = ptr_to_int v10 i256;
        v12.i256 = mload v11 i256;
        v13.i1 = ne v12 0.i256;
        v14.i256 = zext v13 i256;
        v15.i1 = eq v14 1.i256;
        br v15 block8 block15;

    block8:
        v18.*@__fe_tuple_1 = int_to_ptr v0 *@__fe_tuple_1;
        v19.*i256 = gep v18 0.i256 0.i256 1.i256;
        v20.i256 = ptr_to_int v19 i256;
        v21.i256 = mload v20 i256;
        v22.i1 = ne v21 0.i256;
        v23.i256 = zext v22 i256;
        v24.i1 = eq v23 1.i256;
        br v24 block9 block16;

    block9:
        v27.*@__fe_tuple_1 = int_to_ptr v0 *@__fe_tuple_1;
        v28.*i256 = gep v27 0.i256 1.i256;
        v29.i256 = ptr_to_int v28 i256;
        v30.i256 = mload v29 i256;
        v31.i1 = ne v30 0.i256;
        v32.i256 = zext v31 i256;
        v33.i1 = eq v32 1.i256;
        br v33 block1 block17;

    block10:
        evm_invalid;

    block11:
        evm_invalid;

    block12:
        v36.*@__fe_tuple_1 = int_to_ptr v0 *@__fe_tuple_1;
        v37.*i256 = gep v36 0.i256 1.i256;
        v38.i256 = ptr_to_int v37 i256;
        v39.i256 = mload v38 i256;
        v40.i1 = ne v39 0.i256;
        v41.i256 = zext v40 i256;
        v42.i1 = eq v41 1.i256;
        br v42 block5 block18;

    block13:
        evm_invalid;

    block14:
        evm_invalid;

    block15:
        v16.i1 = eq v14 0.i256;
        br v16 block12 block14;

    block16:
        v25.i1 = eq v23 0.i256;
        br v25 block4 block11;

    block17:
        v34.i1 = eq v32 0.i256;
        br v34 block3 block10;

    block18:
        v43.i1 = eq v41 0.i256;
        br v43 block6 block13;
}

func public %match_deeply_nested(v0.i256) -> i256 {
    block0:
        jump block5;

    block1:
        jump block2;

    block2:
        v3.i256 = phi (15.i256 block1) (8.i256 block3) (0.i256 block4);
        return v3;

    block3:
        jump block2;

    block4:
        jump block2;

    block5:
        v6.*@__fe_tuple_2 = int_to_ptr v0 *@__fe_tuple_2;
        v7.*i256 = gep v6 0.i256 0.i256 0.i256 0.i256;
        v8.i256 = ptr_to_int v7 i256;
        v9.i256 = mload v8 i256;
        v10.i1 = ne v9 0.i256;
        v11.i256 = zext v10 i256;
        v13.i1 = eq v11 1.i256;
        br v13 block6 block10;

    block6:
        v16.*@__fe_tuple_2 = int_to_ptr v0 *@__fe_tuple_2;
        v17.*i256 = gep v16 0.i256 1.i256;
        v18.i256 = ptr_to_int v17 i256;
        v19.i256 = mload v18 i256;
        v20.i1 = ne v19 0.i256;
        v21.i256 = zext v20 i256;
        v22.i1 = eq v21 1.i256;
        br v22 block7 block3;

    block7:
        v24.*@__fe_tuple_2 = int_to_ptr v0 *@__fe_tuple_2;
        v25.*i256 = gep v24 0.i256 0.i256 1.i256;
        v26.i256 = ptr_to_int v25 i256;
        v27.i256 = mload v26 i256;
        v28.i1 = ne v27 0.i256;
        v29.i256 = zext v28 i256;
        v30.i1 = eq v29 1.i256;
        br v30 block8 block3;

    block8:
        v32.*@__fe_tuple_2 = int_to_ptr v0 *@__fe_tuple_2;
        v33.*i256 = gep v32 0.i256 0.i256 0.i256 1.i256;
        v34.i256 = ptr_to_int v33 i256;
        v35.i256 = mload v34 i256;
        v36.i1 = ne v35 0.i256;
        v37.i256 = zext v36 i256;
        v38.i1 = eq v37 1.i256;
        br v38 block1 block3;

    block9:
        evm_invalid;

    block10:
        v14.i1 = eq v11 0.i256;
        br v14 block4 block9;
}

func public %__fe_sonatina_entry() {
    block0:
        v1.i256 = call %match_nested_tuple 0.i256;
        evm_stop;
}


object @Contract {
    section runtime {
        entry %__fe_sonatina_entry;
    }
}
