---
source: crates/codegen/tests/yul.rs
expression: output
input_file: tests/fixtures/erc20_low_level.fe
---
object "Erc20Contract" {
  code {
    function $address_h257056268eac7027_eq_h14b330e44530c410_eq_stor_arg0_root_stor($self, $other) -> ret {
      ret := eq($self, $other)
      leave
    }
    function $address_h257056268eac7027_zero() -> ret {
      ret := 0
      leave
    }
    function $do_init__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414_Evm_hef0af3106e109414__d36080519ce8fddb($erc20, $ctx, $ops) {
      let v0 := caller()
      $erc20_______h94f6fe6e679122ca_set_owner_once_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414__2bfe0780cafbc4d2($erc20, v0, $ops)
      leave
    }
    function $erc20_______h94f6fe6e679122ca_set_owner_once_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414__2bfe0780cafbc4d2($self, $owner, $ops) {
      let v0 := sload(add($self, 1))
      let v1 := $address_h257056268eac7027_zero()
      let v2 := $ne_stor_arg0_root_stor__Address_h257056268eac7027_Address_h257056268eac7027__af929e62fa4c68f2(v0, v1)
      let v3 := v2
      if v3 {
        revert(0, 0)
      }
      sstore(add($self, 1), $owner)
      leave
    }
    function $init__StorPtr_Evm___207f35a85ac4062e() {
      let v0 := $stor_ptr_stor__Evm_hef0af3106e109414_Erc20_0__1___536307fd4fe270cd(0, 0)
      let v1 := v0
      $do_init__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414_Evm_hef0af3106e109414__d36080519ce8fddb(v1, 0, 0)
      let v2 := datasize("Erc20Contract_deployed")
      let v3 := dataoffset("Erc20Contract_deployed")
      codecopy(0, v3, v2)
      return(0, v2)
    }
    function $ne_stor_arg0_root_stor__Address_h257056268eac7027_Address_h257056268eac7027__af929e62fa4c68f2($self, $other) -> ret {
      let v0 := $address_h257056268eac7027_eq_h14b330e44530c410_eq_stor_arg0_root_stor($self, $other)
      ret := iszero(v0)
      leave
    }
    function $stor_ptr_stor__Evm_hef0af3106e109414_Erc20_0__1___536307fd4fe270cd($self, $slot) -> ret {
      let v0 := $storptr_t__hc45dea9607fd5340_effecthandle_hfc52f915596f993a_from_raw__Erc20_0__1___b48e7ab92637d703($slot)
      ret := v0
      leave
    }
    function $storptr_t__hc45dea9607fd5340_effecthandle_hfc52f915596f993a_from_raw__Erc20_0__1___b48e7ab92637d703($raw) -> ret {
      ret := $raw
      leave
    }
    $init__StorPtr_Evm___207f35a85ac4062e()
  }

  object "Erc20Contract_deployed" {
    code {
      function $_a__b__h47f120de72304a2d_storagekey_hf9e3d38a13ff4409_write_key__Address_h257056268eac7027_Address_h257056268eac7027__af929e62fa4c68f2($ptr, $self) -> ret {
        let v0 := mload($self)
        let v1 := $address_h257056268eac7027_storagekey_hf9e3d38a13ff4409_write_key($ptr, v0)
        let v2 := mload(add($self, 32))
        let v3 := $address_h257056268eac7027_storagekey_hf9e3d38a13ff4409_write_key(add($ptr, v1), v2)
        ret := add(v1, v3)
        leave
      }
      function $abi_encode_string__Evm_hef0af3106e109414__3af54274b2985741($word, $len, $ops) {
        mstore(0, 32)
        mstore(32, $len)
        mstore(64, $word)
        return(0, 96)
      }
      function $abi_encode_u256__Evm_hef0af3106e109414__3af54274b2985741($value, $ops) {
        mstore(0, $value)
        return(0, 32)
      }
      function $address_h257056268eac7027_eq_h14b330e44530c410_eq_arg1_root_stor($self, $other) -> ret {
        ret := eq($self, $other)
        leave
      }
      function $address_h257056268eac7027_storagekey_hf9e3d38a13ff4409_write_key($ptr, $self) -> ret {
        let v0 := $u256_h3271ca15373d4483_storagekey_hf9e3d38a13ff4409_write_key($ptr, $self)
        ret := v0
        leave
      }
      function $allowance__0_1_StorPtr_Erc20_0__1____896784bc09903ba1($owner, $spender, $erc20) -> ret {
        pop($erc20)
        let v0 := mload(0x40)
        if iszero(v0) {
          v0 := 0x80
        }
        mstore(0x40, add(v0, 64))
        mstore(v0, $owner)
        mstore(add(v0, 32), $spender)
        let v1 := $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_get_stor_arg0_root_stor___Address__Address__u256_1__12414c27d5bfff1f(0, v0)
        ret := v1
        leave
      }
      function $approve__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414__68ea22e02fe2444b($spender, $amount, $erc20, $ctx) -> ret {
        let v0 := caller()
        $erc20_______h94f6fe6e679122ca_approve_stor_arg0_root_stor__0_1__e4c8be10cab939c2($erc20, v0, $spender, $amount)
        ret := 1
        leave
      }
      function $balance_of__0_1_StorPtr_Erc20_0__1____896784bc09903ba1($addr, $erc20) -> ret {
        pop($erc20)
        let v0 := $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_get_stor_arg0_root_stor__Address_h257056268eac7027_u256_0__6e989e4cb63e64c3(0, $addr)
        ret := v0
        leave
      }
      function $erc20_______h94f6fe6e679122ca_allowance_stor_arg0_root_stor__0_1__e4c8be10cab939c2($self, $owner, $spender) -> ret {
        pop($self)
        let v0 := mload(0x40)
        if iszero(v0) {
          v0 := 0x80
        }
        mstore(0x40, add(v0, 64))
        mstore(v0, $owner)
        mstore(add(v0, 32), $spender)
        let v1 := $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_get_stor_arg0_root_stor___Address__Address__u256_1__12414c27d5bfff1f(0, v0)
        ret := v1
        leave
      }
      function $erc20_______h94f6fe6e679122ca_approve_stor_arg0_root_stor__0_1__e4c8be10cab939c2($self, $owner, $spender, $value) {
        pop($self)
        let v0 := mload(0x40)
        if iszero(v0) {
          v0 := 0x80
        }
        mstore(0x40, add(v0, 64))
        mstore(v0, $owner)
        mstore(add(v0, 32), $spender)
        $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_set_stor_arg0_root_stor___Address__Address__u256_1__12414c27d5bfff1f(0, v0, $value)
        leave
      }
      function $erc20_______h94f6fe6e679122ca_balance_of_stor_arg0_root_stor__0_1__e4c8be10cab939c2($self, $addr) -> ret {
        pop($self)
        let v0 := $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_get_stor_arg0_root_stor__Address_h257056268eac7027_u256_0__6e989e4cb63e64c3(0, $addr)
        ret := v0
        leave
      }
      function $erc20_______h94f6fe6e679122ca_mint_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414_Evm_hef0af3106e109414__ca7def21e0c734ee($self, $to, $amount, $ctx, $ops) {
        let v0 := caller()
        let v1 := sload(add($self, 1))
        let v2 := $ne_arg1_root_stor__Address_h257056268eac7027_Address_h257056268eac7027__af929e62fa4c68f2(v0, v1)
        let v3 := v2
        if v3 {
          revert(0, 0)
        }
        let v4 := $erc20_______h94f6fe6e679122ca_balance_of_stor_arg0_root_stor__0_1__e4c8be10cab939c2($self, $to)
        pop($self)
        $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_set_stor_arg0_root_stor__Address_h257056268eac7027_u256_0__6e989e4cb63e64c3(0, $to, add(v4, $amount))
        let v5 := sload($self)
        sstore($self, add(v5, $amount))
        leave
      }
      function $erc20_______h94f6fe6e679122ca_transfer_from_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414_Evm_hef0af3106e109414__ca7def21e0c734ee($self, $owner, $to, $amount, $ctx, $ops) {
        let v0 := caller()
        let v1 := $erc20_______h94f6fe6e679122ca_allowance_stor_arg0_root_stor__0_1__e4c8be10cab939c2($self, $owner, v0)
        let v2 := lt(v1, $amount)
        if v2 {
          revert(0, 0)
        }
        $erc20_______h94f6fe6e679122ca_transfer_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414__2bfe0780cafbc4d2($self, $owner, $to, $amount, $ops)
        pop($self)
        let v3 := mload(0x40)
        if iszero(v3) {
          v3 := 0x80
        }
        mstore(0x40, add(v3, 64))
        mstore(v3, $owner)
        mstore(add(v3, 32), v0)
        $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_set_stor_arg0_root_stor___Address__Address__u256_1__12414c27d5bfff1f(0, v3, sub(v1, $amount))
        leave
      }
      function $erc20_______h94f6fe6e679122ca_transfer_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414__2bfe0780cafbc4d2($self, $from, $to, $amount, $ops) {
        let v0 := $erc20_______h94f6fe6e679122ca_balance_of_stor_arg0_root_stor__0_1__e4c8be10cab939c2($self, $from)
        let v1 := lt(v0, $amount)
        if v1 {
          revert(0, 0)
        }
        let v2 := $erc20_______h94f6fe6e679122ca_balance_of_stor_arg0_root_stor__0_1__e4c8be10cab939c2($self, $to)
        pop($self)
        $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_set_stor_arg0_root_stor__Address_h257056268eac7027_u256_0__6e989e4cb63e64c3(0, $from, sub(v0, $amount))
        pop($self)
        $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_set_stor_arg0_root_stor__Address_h257056268eac7027_u256_0__6e989e4cb63e64c3(0, $to, add(v2, $amount))
        leave
      }
      function $mint__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414_Evm_hef0af3106e109414__d36080519ce8fddb($to, $amount, $erc20, $ctx, $ops) -> ret {
        $erc20_______h94f6fe6e679122ca_mint_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414_Evm_hef0af3106e109414__ca7def21e0c734ee($erc20, $to, $amount, $ctx, $ops)
        ret := 1
        leave
      }
      function $ne_arg1_root_stor__Address_h257056268eac7027_Address_h257056268eac7027__af929e62fa4c68f2($self, $other) -> ret {
        let v0 := $address_h257056268eac7027_eq_h14b330e44530c410_eq_arg1_root_stor($self, $other)
        ret := iszero(v0)
        leave
      }
      function $runtime__StorPtr_Evm___207f35a85ac4062e() {
        let v0 := $stor_ptr_stor__Evm_hef0af3106e109414_Erc20_0__1___536307fd4fe270cd(0, 0)
        let v1 := calldataload(0)
        let v2 := shr(224, v1)
        let v3 := v0
        switch v2
          case 1889567281 {
            let v4 := calldataload(4)
            let v5 := v4
            let v6 := $balance_of__0_1_StorPtr_Erc20_0__1____896784bc09903ba1(v5, v3)
            $abi_encode_u256__Evm_hef0af3106e109414__3af54274b2985741(v6, 0)
          }
          case 3714247998 {
            let v7 := calldataload(4)
            let v8 := v7
            let v9 := calldataload(36)
            let v10 := v9
            let v11 := $allowance__0_1_StorPtr_Erc20_0__1____896784bc09903ba1(v8, v10, v3)
            $abi_encode_u256__Evm_hef0af3106e109414__3af54274b2985741(v11, 0)
          }
          case 117300739 {
            $abi_encode_string__Evm_hef0af3106e109414__3af54274b2985741(31840933704928615426292613906591192052886564858731089189578963311002547912704, 7, 0)
          }
          case 2514000705 {
            $abi_encode_string__Evm_hef0af3106e109414__3af54274b2985741(31784391594991486112232083260356792451358613714049171750120207607087736291328, 3, 0)
          }
          case 826074471 {
            $abi_encode_u256__Evm_hef0af3106e109414__3af54274b2985741(18, 0)
          }
          case 2835717307 {
            let v12 := calldataload(4)
            let v13 := v12
            let v14 := calldataload(36)
            let v15 := $transfer__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414_Evm_hef0af3106e109414__d36080519ce8fddb(v13, v14, v3, 0, 0)
            $abi_encode_u256__Evm_hef0af3106e109414__3af54274b2985741(v15, 0)
          }
          case 157198259 {
            let v16 := calldataload(4)
            let v17 := v16
            let v18 := calldataload(36)
            let v19 := $approve__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414__68ea22e02fe2444b(v17, v18, v3, 0)
            $abi_encode_u256__Evm_hef0af3106e109414__3af54274b2985741(v19, 0)
          }
          case 599290589 {
            let v20 := calldataload(4)
            let v21 := v20
            let v22 := calldataload(36)
            let v23 := v22
            let v24 := calldataload(68)
            let v25 := $transfer_from__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414_Evm_hef0af3106e109414__d36080519ce8fddb(v21, v23, v24, v3, 0, 0)
            $abi_encode_u256__Evm_hef0af3106e109414__3af54274b2985741(v25, 0)
          }
          case 1086394137 {
            let v26 := calldataload(4)
            let v27 := v26
            let v28 := calldataload(36)
            let v29 := $mint__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414_Evm_hef0af3106e109414__d36080519ce8fddb(v27, v28, v3, 0, 0)
            $abi_encode_u256__Evm_hef0af3106e109414__3af54274b2985741(v29, 0)
          }
          default {
            revert(0, 0)
          }
      }
      function $stor_ptr_stor__Evm_hef0af3106e109414_Erc20_0__1___536307fd4fe270cd($self, $slot) -> ret {
        let v0 := $storptr_t__hc45dea9607fd5340_effecthandle_hfc52f915596f993a_from_raw__Erc20_0__1___b48e7ab92637d703($slot)
        ret := v0
        leave
      }
      function $storagemap_get_word_with_salt__Address_h257056268eac7027__5ab99f7153cdba29($key, $salt) -> ret {
        let v0 := $storagemap_storage_slot_with_salt__Address_h257056268eac7027__5ab99f7153cdba29($key, $salt)
        let v1 := sload(v0)
        ret := v1
        leave
      }
      function $storagemap_get_word_with_salt___Address__Address___c32d499da259c78e($key, $salt) -> ret {
        let v0 := $storagemap_storage_slot_with_salt___Address__Address___c32d499da259c78e($key, $salt)
        let v1 := sload(v0)
        ret := v1
        leave
      }
      function $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_get_stor_arg0_root_stor__Address_h257056268eac7027_u256_0__6e989e4cb63e64c3($self, $key) -> ret {
        let v0 := $storagemap_get_word_with_salt__Address_h257056268eac7027__5ab99f7153cdba29($key, 0)
        let v1 := $u256_h3271ca15373d4483_wordrepr_h7483d41ac8178d88_from_word(v0)
        ret := v1
        leave
      }
      function $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_get_stor_arg0_root_stor___Address__Address__u256_1__12414c27d5bfff1f($self, $key) -> ret {
        let v0 := $storagemap_get_word_with_salt___Address__Address___c32d499da259c78e($key, 1)
        let v1 := $u256_h3271ca15373d4483_wordrepr_h7483d41ac8178d88_from_word(v0)
        ret := v1
        leave
      }
      function $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_set_stor_arg0_root_stor__Address_h257056268eac7027_u256_0__6e989e4cb63e64c3($self, $key, $value) {
        let v0 := $u256_h3271ca15373d4483_wordrepr_h7483d41ac8178d88_to_word($value)
        $storagemap_set_word_with_salt__Address_h257056268eac7027__5ab99f7153cdba29($key, 0, v0)
        leave
      }
      function $storagemap_k__v__const_salt__u256__h5955888dd44c2a19_set_stor_arg0_root_stor___Address__Address__u256_1__12414c27d5bfff1f($self, $key, $value) {
        let v0 := $u256_h3271ca15373d4483_wordrepr_h7483d41ac8178d88_to_word($value)
        $storagemap_set_word_with_salt___Address__Address___c32d499da259c78e($key, 1, v0)
        leave
      }
      function $storagemap_set_word_with_salt__Address_h257056268eac7027__5ab99f7153cdba29($key, $salt, $word) {
        let v0 := $storagemap_storage_slot_with_salt__Address_h257056268eac7027__5ab99f7153cdba29($key, $salt)
        sstore(v0, $word)
        leave
      }
      function $storagemap_set_word_with_salt___Address__Address___c32d499da259c78e($key, $salt, $word) {
        let v0 := $storagemap_storage_slot_with_salt___Address__Address___c32d499da259c78e($key, $salt)
        sstore(v0, $word)
        leave
      }
      function $storagemap_storage_slot_with_salt__Address_h257056268eac7027__5ab99f7153cdba29($key, $salt) -> ret {
        let v0 := mload(64)
        if iszero(v0) {
          v0 := 0x80
        }
        mstore(64, add(v0, 0))
        let v1 := $address_h257056268eac7027_storagekey_hf9e3d38a13ff4409_write_key(v0, $key)
        mstore(add(v0, v1), $salt)
        let v2 := add(v1, 32)
        let v3 := keccak256(v0, v2)
        ret := v3
        leave
      }
      function $storagemap_storage_slot_with_salt___Address__Address___c32d499da259c78e($key, $salt) -> ret {
        let v0 := mload(64)
        if iszero(v0) {
          v0 := 0x80
        }
        mstore(64, add(v0, 0))
        let v1 := $_a__b__h47f120de72304a2d_storagekey_hf9e3d38a13ff4409_write_key__Address_h257056268eac7027_Address_h257056268eac7027__af929e62fa4c68f2(v0, $key)
        mstore(add(v0, v1), $salt)
        let v2 := add(v1, 32)
        let v3 := keccak256(v0, v2)
        ret := v3
        leave
      }
      function $storptr_t__hc45dea9607fd5340_effecthandle_hfc52f915596f993a_from_raw__Erc20_0__1___b48e7ab92637d703($raw) -> ret {
        ret := $raw
        leave
      }
      function $transfer__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414_Evm_hef0af3106e109414__d36080519ce8fddb($to, $amount, $erc20, $ctx, $ops) -> ret {
        let v0 := caller()
        $erc20_______h94f6fe6e679122ca_transfer_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414__2bfe0780cafbc4d2($erc20, v0, $to, $amount, $ops)
        ret := 1
        leave
      }
      function $transfer_from__0_1_StorPtr_Erc20_0__1___Evm_hef0af3106e109414_Evm_hef0af3106e109414__d36080519ce8fddb($from, $to, $amount, $erc20, $ctx, $ops) -> ret {
        $erc20_______h94f6fe6e679122ca_transfer_from_stor_arg0_root_stor__0_1_Evm_hef0af3106e109414_Evm_hef0af3106e109414__ca7def21e0c734ee($erc20, $from, $to, $amount, $ctx, $ops)
        ret := 1
        leave
      }
      function $u256_h3271ca15373d4483_storagekey_hf9e3d38a13ff4409_write_key($ptr, $self) -> ret {
        mstore($ptr, $self)
        ret := 32
        leave
      }
      function $u256_h3271ca15373d4483_wordrepr_h7483d41ac8178d88_from_word($word) -> ret {
        ret := $word
        leave
      }
      function $u256_h3271ca15373d4483_wordrepr_h7483d41ac8178d88_to_word($self) -> ret {
        ret := $self
        leave
      }
      $runtime__StorPtr_Evm___207f35a85ac4062e()
      return(0, 0)
    }
  }
}
