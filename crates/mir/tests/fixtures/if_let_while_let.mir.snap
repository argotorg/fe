---
source: crates/mir/tests/lowering_snapshots.rs
expression: mir_output
---
fn if_let_sum(v0: Option<Point>) -> u64:
  bb0:
    v1: u64 = 0
    jmp bb3
  bb1:
    bind v0
    v2: ref u64 = &mem[v0].0[0].0
    v3: ref u64 = &mem[v0].0[0].1
    v1 = (v2 + v3)
    jmp bb4
  bb2:
    v1 = 0
    jmp bb4
  bb3:
    bind v0
    v4: u256 = load mem[v0].discr
    switch v4 [0 => bb1] else bb2
  bb4:
    ret v1

fn while_let_sum() -> u64:
  bb0:
    v0: Option<u64> = alloc mem
    init mem[v0] { .discr = 0, .0[0] = 1 }
    v1: u64 = 0
    jmp bb1
  bb1:
    jmp bb5
  bb2:
    v3: u64 = load mem[v0].0[0]
    v2: u64 = v3
    bind move_out(mem[v0])
    v1 = v2
    jmp bb3
  bb3:
    ret v1
  bb4:
    bind move_out(mem[v0])
    jmp bb3
  bb5:
    v4: u256 = load mem[v0].discr
    switch v4 [0 => bb2] else bb4
