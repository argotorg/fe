pub struct Storage {
    value: u8,
}

pub fn needs_storage()
  uses Storage
{
}

pub struct Worker {}

impl Worker {
    pub fn run(self)
      uses (storage: mut Storage)
    {
        storage.value += 1
    }
}

pub fn missing_effect_fn() {
    needs_storage()
}

pub fn missing_effect_method(worker: Worker) {
    worker.run()
}
